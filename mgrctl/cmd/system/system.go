
package system

import (
	"github.com/spf13/cobra"
	"github.com/uyuni-project/uyuni-tools/shared/api"
	"github.com/uyuni-project/uyuni-tools/shared/types"
)

func NewCommand(globalFlags *types.GlobalFlags) *cobra.Command {
	cmd := &cobra.Command{
		Use:   "system",
		Short: "Provides methods to access and modify registered system.",
	}

	api.AddAPIFlags(cmd, false)

	cmd.AddCommand(addEntitlementsCommand(globalFlags))
	cmd.AddCommand(getEntitlementsCommand(globalFlags))
	cmd.AddCommand(comparePackageProfileCommand(globalFlags))
	cmd.AddCommand(provisionSystemCommand(globalFlags))
	cmd.AddCommand(getRegistrationDateCommand(globalFlags))
	cmd.AddCommand(listDuplicatesByMacCommand(globalFlags))
	cmd.AddCommand(listEmptySystemProfilesCommand(globalFlags))
	cmd.AddCommand(getPillarCommand(globalFlags))
	cmd.AddCommand(changeProxyCommand(globalFlags))
	cmd.AddCommand(listActiveSystemsCommand(globalFlags))
	cmd.AddCommand(searchByNameCommand(globalFlags))
	cmd.AddCommand(scheduleCertificateUpdateCommand(globalFlags))
	cmd.AddCommand(schedulePackageUpdateCommand(globalFlags))
	cmd.AddCommand(deleteNoteCommand(globalFlags))
	cmd.AddCommand(obtainReactivationKeyCommand(globalFlags))
	cmd.AddCommand(listExtraPackagesCommand(globalFlags))
	cmd.AddCommand(setCustomValuesCommand(globalFlags))
	cmd.AddCommand(scheduleApplyErrataCommand(globalFlags))
	cmd.AddCommand(getInstalledProductsCommand(globalFlags))
	cmd.AddCommand(listActivationKeysCommand(globalFlags))
	cmd.AddCommand(listPackageProfilesCommand(globalFlags))
	cmd.AddCommand(listFqdnsCommand(globalFlags))
	cmd.AddCommand(schedulePackageInstallByNevraCommand(globalFlags))
	cmd.AddCommand(listLatestUpgradablePackagesCommand(globalFlags))
	cmd.AddCommand(getMemoryCommand(globalFlags))
	cmd.AddCommand(listMigrationTargetsCommand(globalFlags))
	cmd.AddCommand(tagLatestSnapshotCommand(globalFlags))
	cmd.AddCommand(scheduleRebootCommand(globalFlags))
	cmd.AddCommand(listDuplicatesByIpCommand(globalFlags))
	cmd.AddCommand(listSystemsWithPackageCommand(globalFlags))
	cmd.AddCommand(listGroupsCommand(globalFlags))
	cmd.AddCommand(scheduleProductMigrationCommand(globalFlags))
	cmd.AddCommand(listUngroupedSystemsCommand(globalFlags))
	cmd.AddCommand(getDmiCommand(globalFlags))
	cmd.AddCommand(getVariablesCommand(globalFlags))
	cmd.AddCommand(deleteSystemCommand(globalFlags))
	cmd.AddCommand(listNewerInstalledPackagesCommand(globalFlags))
	cmd.AddCommand(getNetworkForSystemsCommand(globalFlags))
	cmd.AddCommand(getEventHistoryCommand(globalFlags))
	cmd.AddCommand(setGuestMemoryCommand(globalFlags))
	cmd.AddCommand(setPillarCommand(globalFlags))
	cmd.AddCommand(setGuestCpusCommand(globalFlags))
	cmd.AddCommand(bootstrapCommand(globalFlags))
	cmd.AddCommand(listSystemsWithExtraPackagesCommand(globalFlags))
	cmd.AddCommand(schedulePackageRemoveByNevraCommand(globalFlags))
	cmd.AddCommand(getEventDetailsCommand(globalFlags))
	cmd.AddCommand(listSystemGroupsForSystemsWithEntitlementCommand(globalFlags))
	cmd.AddCommand(listSuggestedRebootCommand(globalFlags))
	cmd.AddCommand(getConnectionPathCommand(globalFlags))
	cmd.AddCommand(getNetworkCommand(globalFlags))
	cmd.AddCommand(createSystemRecordCommand(globalFlags))
	cmd.AddCommand(getUnscheduledErrataCommand(globalFlags))
	cmd.AddCommand(listSystemEventsCommand(globalFlags))
	cmd.AddCommand(getDevicesCommand(globalFlags))
	cmd.AddCommand(listPackageStateCommand(globalFlags))
	cmd.AddCommand(schedulePackageLockChangeCommand(globalFlags))
	cmd.AddCommand(listVirtualHostsCommand(globalFlags))
	cmd.AddCommand(listActiveSystemsDetailsCommand(globalFlags))
	cmd.AddCommand(schedulePackageRefreshCommand(globalFlags))
	cmd.AddCommand(scheduleScriptRunCommand(globalFlags))
	cmd.AddCommand(scheduleApplyHighstateCommand(globalFlags))
	cmd.AddCommand(setLockStatusCommand(globalFlags))
	cmd.AddCommand(scheduleHardwareRefreshCommand(globalFlags))
	cmd.AddCommand(getCustomValuesCommand(globalFlags))
	cmd.AddCommand(scheduleDistUpgradeCommand(globalFlags))
	cmd.AddCommand(getScriptResultsCommand(globalFlags))
	cmd.AddCommand(whoRegisteredCommand(globalFlags))
	cmd.AddCommand(deleteCustomValuesCommand(globalFlags))
	cmd.AddCommand(bootstrapWithPrivateSshKeyCommand(globalFlags))
	cmd.AddCommand(listOlderInstalledPackagesCommand(globalFlags))
	cmd.AddCommand(getOsaPingCommand(globalFlags))
	cmd.AddCommand(downloadSystemIdCommand(globalFlags))
	cmd.AddCommand(getNameCommand(globalFlags))
	cmd.AddCommand(provisionVirtualGuestCommand(globalFlags))
	cmd.AddCommand(scheduleChangeChannelsCommand(globalFlags))
	cmd.AddCommand(listVirtualGuestsCommand(globalFlags))
	cmd.AddCommand(schedulePackageRemoveCommand(globalFlags))
	cmd.AddCommand(setPrimaryFqdnCommand(globalFlags))
	cmd.AddCommand(refreshPillarCommand(globalFlags))
	cmd.AddCommand(comparePackagesCommand(globalFlags))
	cmd.AddCommand(listSubscribableChildChannelsCommand(globalFlags))
	cmd.AddCommand(listOutOfDateSystemsCommand(globalFlags))
	cmd.AddCommand(getRelevantErrataByTypeCommand(globalFlags))
	cmd.AddCommand(listInstalledPackagesCommand(globalFlags))
	cmd.AddCommand(deleteTagFromSnapshotCommand(globalFlags))
	cmd.AddCommand(setDetailsCommand(globalFlags))
	cmd.AddCommand(listInactiveSystemsCommand(globalFlags))
	cmd.AddCommand(listUserSystemsCommand(globalFlags))
	cmd.AddCommand(listPhysicalSystemsCommand(globalFlags))
	cmd.AddCommand(listPackagesFromChannelCommand(globalFlags))
	cmd.AddCommand(listSystemsWithEntitlementCommand(globalFlags))
	cmd.AddCommand(getDetailsCommand(globalFlags))
	cmd.AddCommand(listSystemsCommand(globalFlags))
	cmd.AddCommand(schedulePackageInstallCommand(globalFlags))
	cmd.AddCommand(listSubscribedChildChannelsCommand(globalFlags))
	cmd.AddCommand(unentitleCommand(globalFlags))
	cmd.AddCommand(setGroupMembershipCommand(globalFlags))
	cmd.AddCommand(getRelevantErrataCommand(globalFlags))
	cmd.AddCommand(addNoteCommand(globalFlags))
	cmd.AddCommand(scheduleSyncPackagesWithSystemCommand(globalFlags))
	cmd.AddCommand(listDuplicatesByHostnameCommand(globalFlags))
	cmd.AddCommand(getUuidCommand(globalFlags))
	cmd.AddCommand(listPackagesLockStatusCommand(globalFlags))
	cmd.AddCommand(getScriptActionDetailsCommand(globalFlags))
	cmd.AddCommand(setPrimaryInterfaceCommand(globalFlags))
	cmd.AddCommand(sendOsaPingCommand(globalFlags))
	cmd.AddCommand(getNetworkDevicesCommand(globalFlags))
	cmd.AddCommand(setProfileNameCommand(globalFlags))
	cmd.AddCommand(listLatestAvailablePackageCommand(globalFlags))
	cmd.AddCommand(deleteSystemsCommand(globalFlags))
	cmd.AddCommand(getIdCommand(globalFlags))
	cmd.AddCommand(listAdministratorsCommand(globalFlags))
	cmd.AddCommand(upgradeEntitlementCommand(globalFlags))
	cmd.AddCommand(listAllInstallablePackagesCommand(globalFlags))
	cmd.AddCommand(getRunningKernelCommand(globalFlags))
	cmd.AddCommand(listLatestInstallablePackagesCommand(globalFlags))
	cmd.AddCommand(isNvreInstalledCommand(globalFlags))
	cmd.AddCommand(updatePackageStateCommand(globalFlags))
	cmd.AddCommand(listNotesCommand(globalFlags))
	cmd.AddCommand(removeEntitlementsCommand(globalFlags))
	cmd.AddCommand(getSubscribedBaseChannelCommand(globalFlags))
	cmd.AddCommand(createPackageProfileCommand(globalFlags))
	cmd.AddCommand(scheduleApplyStatesCommand(globalFlags))
	cmd.AddCommand(getMinionIdMapCommand(globalFlags))
	cmd.AddCommand(setVariablesCommand(globalFlags))
	cmd.AddCommand(getSystemCurrencyScoresCommand(globalFlags))
	cmd.AddCommand(deleteNotesCommand(globalFlags))
	cmd.AddCommand(scheduleGuestActionCommand(globalFlags))
	cmd.AddCommand(deleteGuestProfilesCommand(globalFlags))
	cmd.AddCommand(deletePackageProfileCommand(globalFlags))
	cmd.AddCommand(createSystemProfileCommand(globalFlags))
	cmd.AddCommand(getSystemCurrencyMultipliersCommand(globalFlags))
	cmd.AddCommand(getCpuCommand(globalFlags))
	cmd.AddCommand(listSubscribableBaseChannelsCommand(globalFlags))
	cmd.AddCommand(getKernelLivePatchCommand(globalFlags))

	return cmd
}
